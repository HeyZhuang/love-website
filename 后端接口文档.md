请根据提供的部门表的表结构和接口文档,基于SpringBoot+Mybatis技术帮我完成登录的接口开发 (使用JDK21语法)，要求只有用户成功登录以后才能进行后续页面的查看。

1. 要操作的表是 dept 部门表, 表结构如下

   -- ----------------------------
   -- 用户核心表 (存储用户基本信息)
   -- ----------------------------
   CREATE TABLE `users` (
     `user_id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '用户ID',
     `account` VARCHAR(50) NOT NULL COMMENT '登录账号(邮箱/手机)',
     `password` VARCHAR(255) NOT NULL COMMENT '加密密码',
     `nickname` VARCHAR(50) NOT NULL COMMENT '用户昵称',
     `heart_level` TINYINT(3) DEFAULT 50 COMMENT '心灵匹配指数(1-100)',
     `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
     `updated_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
     PRIMARY KEY (`user_id`),
     UNIQUE KEY `uniq_account` (`account`)
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户核心表';

   -- ----------------------------
   -- 第三方登录关联表
   -- ----------------------------
   CREATE TABLE `user_oauth` (
     `id` INT(11) NOT NULL AUTO_INCREMENT,
     `user_id` INT(11) NOT NULL COMMENT '关联用户ID',
     `platform` ENUM('Google','WeChat') NOT NULL COMMENT '平台类型',
     `open_id` VARCHAR(100) NOT NULL COMMENT '第三方平台ID',
     `oauth_token` VARCHAR(255) NOT NULL COMMENT '授权令牌',
     `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
     PRIMARY KEY (`id`),
     UNIQUE KEY `uniq_platform_openid` (`platform`,`open_id`),
     FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='第三方登录';

   -- ----------------------------
   -- 心灵匹配关系表
   -- ----------------------------
   CREATE TABLE `heart_matches` (
     `match_id` INT(11) NOT NULL AUTO_INCREMENT,
     `user_id` INT(11) NOT NULL COMMENT '主用户ID',
     `matched_user_id` INT(11) NOT NULL COMMENT '匹配用户ID',
     `compatibility` TINYINT(3) NOT NULL COMMENT '契合度百分比',
     `last_interaction` TIMESTAMP NULL COMMENT '最后互动时间',
     PRIMARY KEY (`match_id`),
     UNIQUE KEY `uniq_user_pair` (`user_id`,`matched_user_id`),
     FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE,
     FOREIGN KEY (`matched_user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='心灵匹配';

   -- ----------------------------
   -- 用户兴趣标签表
   -- ----------------------------
   CREATE TABLE `user_interests` (
     `id` INT(11) NOT NULL AUTO_INCREMENT,
     `user_id` INT(11) NOT NULL,
     `interest` VARCHAR(30) NOT NULL COMMENT '兴趣标签',
     PRIMARY KEY (`id`),
     KEY `idx_user_id` (`user_id`),
     FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户兴趣';

   -- ----------------------------
   -- 密码重置记录表
   -- ----------------------------
   CREATE TABLE `password_resets` (
     `id` INT(11) NOT NULL AUTO_INCREMENT,
     `user_id` INT(11) NOT NULL,
     `reset_token` VARCHAR(100) NOT NULL COMMENT '重置令牌',
     `expiry` TIMESTAMP NOT NULL COMMENT '过期时间',
     `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
     PRIMARY KEY (`id`),
     FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='密码重置';

   -- ----------------------------
   -- 用户活跃记录表
   -- ----------------------------
   CREATE TABLE `user_activities` (
     `id` INT(11) NOT NULL AUTO_INCREMENT,
     `user_id` INT(11) NOT NULL,
     `last_active` TIMESTAMP NOT NULL COMMENT '最后活跃时间',
     PRIMARY KEY (`id`),
     UNIQUE KEY `uniq_user` (`user_id`),
     FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户活跃';

2.  要操作的数据库的主机端口号: 3306, 用户名: root , 密码: 123456, 数据库名: ch-love

   下面是我的登录接口文档

#### 1. 用户登录认证

**1.1 基本说明**

- 请求路径：`/api/login`
- 请求方式：`POST`
- 接口描述：用户通过账号密码登录恋爱网站

**1.2 请求参数**

JSON

```
{
  "account": "string",  // 用户账号（邮箱/手机号）
  "password": "string", // 密码
  "rememberMe": boolean // 是否记住登录状态
}
```

**1.3 响应数据**

| 参数名       | 类型   | 是否必须 | 说明                     |
| :----------- | :----- | :------- | :----------------------- |
| code         | number | 必须     | 1:成功 0:失败            |
| msg          | string | 非必须   | 错误提示（如"密码错误"） |
| data         | object | 非必须   | 用户数据                 |
| └─userId     | number | 必须     | 用户ID                   |
| └─token      | string | 必须     | 身份验证令牌             |
| └─nickname   | string | 非必须   | 用户昵称                 |
| └─heartLevel | number | 非必须   | 心灵匹配指数（1-100）    |

**响应示例**

JSON

```
{
  "code": 1,
  "msg": "登录成功",
  "data": {
    "userId": 1314,
    "token": "LOVE_9a8b7c6d5e",
    "nickname": "星空恋人",
    "heartLevel": 88
  }
}
```

------

#### 2. 第三方快捷登录

**2.1 基本说明**

- 请求路径：`/api/login/oauth`
- 请求方式：`POST`
- 接口描述：通过Google/微信快速登录

**2.2 请求参数**

JSON

```
{
  "platform": "string", // 平台类型（Google/WeChat）
  "oauthToken": "string" // 第三方授权令牌
}
```

**2.3 响应数据**
（结构同基础登录接口）

------

#### 3. 密码管理

**3.1 忘记密码**

- 路径：`/api/password/reset`

- 方式：`POST`

- 请求参数：

  JSON

  

  ```
  { "account": "string" }
  ```

- 响应：

  JSON

  

  ```
  { "code": 1, "msg": "重置邮件已发送" }
  ```

**3.2 修改密码**

- 路径：`/api/password/update`

- 方式：`PUT`

- 请求参数：

  JSON

  ```
  {
    "oldPassword": "string",
    "newPassword": "string"
  }
  ```

------

#### 4. 心灵匹配检测

**4.1 基本说明**

- 路径：`/api/heart-space`
- 方式：`GET`
- 接口描述：获取用户心灵空间匹配度数据

**4.2 响应数据**

JSON

```
{
  "code": 1,
  "data": {
    "compatibility": 92,       // 契合度百分比
    "sharedInterests": ["旅行", "诗歌"], // 共同兴趣
    "lastActive": "2025-06-05T14:30:00" // 对方最后活跃时间
  }
}
```

------

> **文档说明**
>
> 1. 所有接口需在Header携带`Content-Type: application/json`
> 2. 认证接口需在Header返回`X-Love-Token`
> 3. 错误码说明：
>    - `401`: 未授权
>    - `403`: 心灵空间访问权限不足
>    - `520`: 恋爱配额不足（需升级VIP）